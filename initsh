#!/bin/bash

# Edit 20170222

# ls
v_github_pages='initsh.github.io'
v_git_dir="github.com/initsh/${v_github_pages}"

curl -LRs "${v_git_dir}" \
| egrep '<a href="/[^/]+/[^/]+/blob/master/.*.sh" ' \
| sed -r -e 's/^.*<a href="\/[^\/]+\/[^\/]+\/blob\/master\/([^"]*)" .*$/'"${v_github_pages}"'\/\1/g'

# install
v_initsh="${v_github_pages}/initsh"
v_tmp_file="/tmp/initsh"
v_bin_file="/usr/bin/initsh"

curl -LRs "${v_initsh}" -o "${v_tmp_file}"
chmod 755 "${v_tmp_file}"
\mv -f "${v_tmp_file}" "${v_bin_file}"

#EOF
